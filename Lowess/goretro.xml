<?xml version="1.0"?>
<Container version="2">
	<Name>GoRetro</Name>
	<Repository>lowess/goretro</Repository>
	<Registry>https://hub.docker.com/r/lowess/goretro/</Registry>
	<Network>bridge</Network>
	<Privileged>false</Privileged>
	<Support>https://github.com/Lowess/goretro/issues</Support>
	<Overview>
		GoRetro - Generate gamelist XML files for retro gaming frontends with metadata scraping from ScreenScraper and media downloads.
	</Overview>
	<Category>Tools:</Category>
	<WebUI></WebUI>
	<TemplateURL>
		https://raw.githubusercontent.com/Lowess/docker-templates-unraid/main/Lowess/goretro.xml</TemplateURL>
	<Icon>
		https://raw.githubusercontent.com/Lowess/docker-templates-unraid/main/Lowess/images/goretro.png</Icon>
	<ExtraParams>--restart=no</ExtraParams>
	<Description>
		GoRetro generates gamelist.xml files with metadata from ScreenScraper API.

		SIMPLE USAGE:
		1. Mount your ROMs directory (e.g., /mnt/user/data/media/roms)
		2. Set SYSTEM to the subdirectory name (e.g., snes, nes, gb)
		3. Enable scraping and enter ScreenScraper credentials
		4. Start container - it runs once and stops when complete

		OUTPUT: Files are written directly to your ROM directory:
		  /mnt/user/data/media/roms/snes/gamelist.xml
		  /mnt/user/data/media/roms/snes/media/thumbnails/
		  /mnt/user/data/media/roms/snes/media/images/

		Your ROM directory structure should be:
		  /mnt/user/data/media/roms/
		    ├── snes/*.sfc, *.smc
		    ├── nes/*.nes
		    └── gba/*.gba
	</Description>
	<Beta>False</Beta>
	<Project>https://github.com/Lowess/goretro</Project>
	<Date>2025-01-04</Date>
	<Changes>
		###v1.1.0 (2025-01-04)
		- Simplified path structure - single mount point
		- Fixed media path duplication issue
		- Container now stays visible in Unraid after completion
		- Clearer configuration options

		###v1.0.0 (2025-01-03)
		- Initial release with scraping and media download support
		- Live progress dashboard
		- Parallel media downloads
		- Smart caching system
		- Multi-system support (50+ systems)
	</Changes>
	<Networking>
		<Mode>bridge</Mode>
	</Networking>

	<!-- System Configuration -->
	<Config Type="Variable" Name="System Name" Target="SYSTEM"
		Default="snes"
		Description="System subdirectory name in your ROM directory (e.g., snes, nes, gb, gba, genesis, psx, n64). REQUIRED. Common systems: snes, nes, gb, gba, genesis, psx, n64, atari2600, arcade."
		Mask="false"
		Display="always"
		Required="true">snes</Config>

	<Config Type="Variable" Name="Enable Scraping" Target="ENABLE_SCRAPE"
		Default="true"
		Description="Enable metadata scraping from ScreenScraper API. Set to false to only generate basic gamelist.xml from ROM files."
		Mask="false"
		Display="always"
		Required="false">true</Config>

	<Config Type="Variable" Name="Download Media" Target="DOWNLOAD_MEDIA"
		Default="true"
		Description="Download media files (thumbnails and images) from ScreenScraper. Requires scraping to be enabled."
		Mask="false"
		Display="always"
		Required="false">true</Config>

	<!-- ScreenScraper Credentials (Required for scraping) -->
	<Config Type="Variable" Name="ScreenScraper User ID" Target="SCREENSCRAPER_USER_ID"
		Default=""
		Description="Your ScreenScraper username. REQUIRED if scraping is enabled. Get free account at https://www.screenscraper.fr/"
		Mask="false"
		Display="always"
		Required="false"></Config>

	<Config Type="Variable" Name="ScreenScraper User Password" Target="SCREENSCRAPER_USER_PASSWORD"
		Default=""
		Description="Your ScreenScraper password. REQUIRED if scraping is enabled."
		Mask="true"
		Display="always"
		Required="false"></Config>

	<Config Type="Variable" Name="ScreenScraper Dev ID" Target="SCREENSCRAPER_DEV_ID"
		Default=""
		Description="ScreenScraper Developer ID. REQUIRED if scraping is enabled. Get from your ScreenScraper profile."
		Mask="false"
		Display="always"
		Required="false"></Config>

	<Config Type="Variable" Name="ScreenScraper Dev Password" Target="SCREENSCRAPER_DEV_PASSWORD"
		Default=""
		Description="ScreenScraper Developer Password. REQUIRED if scraping is enabled. Get from your ScreenScraper profile."
		Mask="true"
		Display="always"
		Required="false"></Config>

	<Config Type="Variable" Name="ScreenScraper Software Name" Target="SCREENSCRAPER_SOFT_NAME"
		Default="GoRetro-1.1"
		Description="Software name for API identification."
		Mask="false"
		Display="advanced"
		Required="false">GoRetro-1.1</Config>

	<Config Type="Variable" Name="Skip TLS Verification" Target="SCREENSCRAPER_INSECURE_SKIP_TLS"
		Default="false"
		Description="Skip TLS certificate verification. WARNING: Only use if ScreenScraper has SSL issues."
		Mask="false"
		Display="advanced"
		Required="false">false</Config>

	<!-- Path Mappings - SIMPLIFIED -->
	<Config Type="Path" Name="ROM Directory" Target="/roms"
		Default="/mnt/user/data/media/roms"
		Mode="rw"
		Description="Base ROM directory containing system subdirectories (snes/, nes/, etc.). GoRetro will read ROMs from /roms/[SYSTEM]/ and write gamelist.xml and media back to the same location."
		Display="always"
		Required="true" Mask="false">/mnt/user/data/media/roms</Config>

	<Config Type="Path" Name="Cache Directory" Target="/config/.cache"
		Default="/mnt/user/appdata/goretro/cache"
		Mode="rw"
		Description="Cache directory for ScreenScraper API responses. Dramatically speeds up re-runs. One cache file per ROM."
		Display="always"
		Required="true" Mask="false">/mnt/user/appdata/goretro/cache</Config>

	<!-- Performance Tuning -->
	<Config Type="Variable" Name="API Delay (ms)" Target="API_DELAY"
		Default="1000"
		Description="Delay between API calls in milliseconds. Recommended: 1000-2000ms for free accounts, 500ms for premium ScreenScraper accounts."
		Mask="false"
		Display="advanced"
		Required="false">1000</Config>

	<Config Type="Variable" Name="Download Workers" Target="DOWNLOAD_WORKERS"
		Default="8"
		Description="Number of parallel download workers for media files. 4-8 recommended. Higher = faster but more bandwidth."
		Mask="false"
		Display="advanced"
		Required="false">8</Config>

	<Config Type="Variable" Name="Limit Games" Target="LIMIT"
		Default="0"
		Description="Limit number of games to process (0 = no limit). Useful for testing with 5-10 games before processing entire collection."
		Mask="false"
		Display="advanced"
		Required="false">0</Config>

	<!-- Output paths - Leave empty to auto-construct based on SYSTEM -->
	<Config Type="Variable" Name="Output File" Target="OUTPUT_FILE"
		Default=""
		Description="Output gamelist.xml path. Leave empty to auto-construct as /roms/[SYSTEM]/gamelist.xml"
		Mask="false"
		Display="advanced"
		Required="false"></Config>

	<Config Type="Variable" Name="ROM Directory (Internal)" Target="ROM_DIR"
		Default=""
		Description="Internal ROM path. Leave empty to auto-construct as /roms/[SYSTEM]"
		Mask="false"
		Display="advanced"
		Required="false"></Config>

	<Config Type="Variable" Name="Media Directory (Internal)" Target="MEDIA_DIR"
		Default=""
		Description="Internal media output path. Leave empty to auto-construct as /roms/[SYSTEM]/media"
		Mask="false"
		Display="advanced"
		Required="false"></Config>
</Container>
